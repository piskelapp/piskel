<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Piskel</title>
  <meta name="description" content="">
  <meta name="author" content="Julian Descottes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="css/reset.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/tools.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-tooltip-custom.css">
  <link rel="stylesheet" type="text/css" href="css/preview-film-section.css">
</head>
<body>
  <div class="piskel-name-container">
    <input readonly id="piskel-name" type="text" value=""/>
  </div>
  <div id="main-wrapper" class="main-wrapper">
    <div class="sticky-section left-sticky-section" id="tool-section">
      <div class="sticky-section-wrap">
        <div class="vertical-centerer">
          <ul id="tools-container" class="tools-wrapper"></ul>
          <div class="palette-wrapper">
            <div class="tool-icon tool-color-picker">
              <input id="color-picker" class="color {hash:true}" type="text" value="" />
              <input id="secondary-color-picker" class="secondary-color-picker color {hash:true}" type="text" value="" />
            </div>
            <div class="tool-icon tool-palette">
              <div id="palette" class="palette">
                <span class="tool-icon palette-color transparent-color" data-color="TRANSPARENT" title="Transparent"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="application-action-section" class="sticky-section right-sticky-section">
      <div class="sticky-section-wrap">
        <div class="vertical-centerer">
          <div id="settings" class="tool-icon gear-icon" title="Preferences" rel="tooltip" data-placement="left"></div>
          <a class="tool-icon gallery-icon" title="Visit gallery" href="http://juliandescottes.github.io/piskel-website/" rel="tooltip" data-placement="left" target="_blank"></a>
          <div class="tool-icon save-icon" title="Save to gallery" onclick="pskl.app.storeSheet()" rel="tooltip" data-placement="left" ></div>
          <div class="tool-icon upload-cloud-icon" title="Upload as an animated GIF" onclick="pskl.app.uploadAsAnimatedGIF()" rel="tooltip" data-placement="left">
            <span class="label">GIF</span>
          </div>
          <div class="tool-icon upload-cloud-icon" title="Upload as a spritesheet PNG" onclick="pskl.app.uploadAsSpritesheetPNG()" rel="tooltip" data-placement="left">
            <span class="label">PNG</span>
          </div>
        </div>
        <div class="drawer vertical-centerer">
          <div class="drawer-content">
            <div class="settings-section">
              <div class="settings-title">
                Canvas settings:
              </div>
              <div class="settings-item">
                <label>Background:</label>
                <div id="background-picker-wrapper" class="background-picker-wrapper">
                  <div class="background-picker light-picker-background" data-background-class="light-canvas-background"
                        rel="tooltip" data-placement="bottom" title="light / high contrast">
                  </div>
                  <div class="background-picker medium-picker-background" data-background-class="medium-canvas-background"
                        rel="tooltip" data-placement="bottom" title="medium / high contrast">
                  </div>
                  <div class="background-picker lowcont-medium-picker-background" data-background-class="lowcont-medium-canvas-background"
                        rel="tooltip" data-placement="bottom" title="medium / low contrast">
                  </div>
                  <div class="background-picker lowcont-dark-picker-background" data-background-class="lowcont-dark-canvas-background"
                        rel="tooltip" data-placement="bottom" title="dark / low contrast">
                  </div>
                </div>
              </div>
              <div class="settings-item">
                <label for="show-grid">Show grid:</label> <input id="show-grid" type="checkbox"/>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="column-wrapper" class="column-wrapper">
      <div class='column left-column'>
        
        <!-- List of frames: -->
        <div id="preview-list-wrapper" class="preview-list-wrapper">
          <div id="preview-list-scroller" class="preview-list-scroller">
            <ul class="preview-list" id="preview-list"></ul>
          </div>
          <div class="top-overflow"></div>
          <div class="bottom-overflow"></div>
        </div>
      </div>

      <div class='column main-column'>
        <!-- Drawing area: -->
        <div id="drawing-canvas-container" class="drawing-canvas-container canvas-container">
          <div class="canvas-background"></div>
        </div>
      </div>

      <div class="column right-column">
        <!-- Animation preview: -->
        <div class='preview-container'>
          <div id='preview-canvas-container' class="canvas-container">
            <div class="canvas-background"></div>
          </div>
          <div>
            <span id="display-fps" class="display-fps">12 FPS</span>
            <input id="preview-fps" class="range-fps" type="range" min="1" max="24" value="12"/>
          </div>   
        </div>
      </div>
    </div>
  </div>
  
  <script type="text/javascript">
    (function () {

      var loadScript = function (src, callback) {
        var script = window.document.createElement('script');
        script.setAttribute('src',src);
        script.setAttribute('onload',callback);
        window.document.body.appendChild(script);
      };

      if (window.location.href.indexOf("debug") != -1) {
        window.exports = {};
        var scriptIndex = 0;
        window.loadNextScript = function () {
          if (scriptIndex == exports.scripts.length) {
            pskl.app.init();
            // cleanup
            delete window.exports;
            delete window.loadDebugScripts;
            delete window.done;
          } else {
            loadScript(exports.scripts[scriptIndex], "loadNextScript()");
            scriptIndex ++;
          }
        };
        loadScript("script-load-list.js", "loadNextScript()");
      } else {
        var script;
        if (window.location.href.indexOf("pack") != -1) {
          script = "build/piskel-packaged.js";
        } else {
          script = "build/piskel-packaged-min.js";
        }
        loadScript(script, "pskl.app.init()");
      }
    })();
  </script>
</body>
</html>
